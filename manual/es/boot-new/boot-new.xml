<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 39380 -->
<!-- revisado por jfs, 28 octubre 2004 -->
<!-- revisado Rudy Godoy, 24 feb. 2005 -->

<chapter id="boot-new">
 <title>Arrancando su nuevo sistema Debian</title>

 <sect1 id="base-boot"><title>El momento de la verdad</title>
<para>

El primer arranque autónomo de su sistema es lo que los ingenieros
eléctricos llaman <quote>la prueba de humo</quote>.

</para><para>

Si está arrancando directamente en Debian y el sistema no inicia,
debe usar o bien el medio original de instalación o insertar el disquete
de arranque a medida, si tiene uno, y reiniciar su sistema. Es posible
que, en su caso, tenga que introducir algunos argumentos adicionales al
arranque como <userinput>root=<replaceable>root</replaceable></userinput>,
donde <replaceable>root</replaceable> es su partición raíz, como por
ejemplo <filename>/dev/sda1</filename>.
Además, puede consultar <xref linkend="rescue"/> para leer las instrucciones
de cómo usar el modo de rescate incorporado en el instalador.


</para>

  <sect2 arch="m68k"><title>Arranque de BVME 6000</title>
<para>

Deberá introducir alguna de las órdenes mostradas a continuación,
una vez que el sistema ha cargado el programa
<command>tftplilo</command> desde el servidor TFTP, y en el cursor
<prompt>LILO Boot:</prompt> si ha efectuado una instalación sin disco
en una máquina BMV o Motorola VMEbus.

<itemizedlist>
<listitem><para>

<userinput>b6000</userinput> seguido de &enterkey;
para arrancar un BVME 4000/6000

</para></listitem><listitem><para>

<userinput>b162</userinput> seguido de &enterkey;
para arrancar un MVME162

</para></listitem><listitem><para>

<userinput>b167</userinput> seguido de &enterkey;
para arrancar un MVME166/167

</para></listitem>
</itemizedlist>

</para>

   </sect2>

  <sect2 arch="m68k"><title>Arranque en Macintosh</title>

<para>

Vaya al directorio donde se localizan los ficheros de instalación e
inicie el gestor de arranque <command>Penguin</command>, para ello mantenga presionada
la tecla <keycap>command</keycap>. Vaya a la opción
<userinput>Settings</userinput> (<keycombo>
<keycap>command</keycap> <keycap>T</keycap> </keycombo>), y localice
la línea de opciones de núcleo. Esta línea debe ser parecida a
<userinput>root=/dev/ram video=font:VGA8x16</userinput>.

</para><para>

Deberá cambiar dicha línea a
<userinput>root=/dev/<replaceable>yyyy</replaceable></userinput>.
Sustituya <replaceable>yyyy</replaceable> por el nombre Linux de
la partición en la que ha instalado el sistema.
(p. ej. <filename>/dev/sda1</filename>). Usted ha anotado este nombre antes.
Se recomienda que utilice <userinput>video=font:VGA8x8</userinput>
si su pantalla es pequeña. El núcleo seleccionará
un tipo de letra más bonito (6x11), pero el controlador de
consola para este tipo de letra podría hacer que se bloquee la máquina.
Así, es más seguro utilizar en este punto tipos de letra 8x16 ó 8x8. Podrá
cambiar este tipo de letra en cualquier momento.

</para><para>

Si no desea arrancar GNU/Linux inmediatamente cada vez que encienda el sistema,
desmarque la opción <userinput>Auto Boot</userinput>. Guarde su
configuración en el fichero <filename>Prefs</filename> con la
opción <userinput>Save Settings As Default</userinput>.

</para><para>

Ahora elija <userinput>Boot Now</userinput> (<keycombo>
<keycap>command</keycap> <keycap>B</keycap> </keycombo>) para arrancar
su nueva instalación de GNU/Linux en lugar del sistema del sistema
de instalación en RAMdisk.

</para><para>

Debería arrancar Debian y debería ver los mismos mensajes que
cuando arrancó anteriormente el sistema de instalación, seguidos de
algunos mensajes nuevos.

</para>
   </sect2>


  <sect2 arch="powerpc"><title>PowerMacs OldWorld</title>
<para>

Si la máquina falla al arrancar después de finalizar la instalación
y se detiene mostrando el cursor <prompt>boot:</prompt>, intente escribir
<userinput>Linux</userinput> seguido de &enterkey;. (La configuración
de arranque predeterminada en <filename>quik.conf</filename> está
etiquetada como Linux). Podrá ver las etiquetas definidas en
<filename>quik.conf</filename> si presiona la tecla
<keycap>Tab</keycap> en el cursor <prompt>boot:</prompt>.
También puede intentar volver al instalador y editar el fichero
<filename>/target/etc/quik.conf</filename> que se ha generado en
el paso <guimenuitem>Instalar quik en un disco duro</guimenuitem>.
Puede encontrar algunas pistas para adaptar
<command>quik</command> a su caso específico en <ulink
url="&url-powerpc-quik-faq;"></ulink>.

</para><para>

Para volver al MacOS sin reiniciar la nvram, escriba
<userinput>bye</userinput> en el cursor de «OpenFirmware» (siempre y cuando
no haya eliminado MacOS de la máquina). Para obtener el cursor,
mantenga presionadas las teclas <keycombo> <keycap>command</keycap>
<keycap>option</keycap> <keycap>o</keycap> <keycap>f</keycap>
</keycombo> mientras la máquina reinicia en frío. Si necesita restaurar
los cambios hechos a la nvram de OpenFirmware al valor por omisión
MacOS para poder volver a arrancar MacOS, mantenga presionadas la
teclas <keycombo> <keycap>command</keycap>
<keycap>option</keycap> <keycap>p</keycap> <keycap>r</keycap>
</keycombo> mientras se arranca la máquina en frío.

</para><para>

En el caso de que utilice <command>BootX</command> para arrancar el
sistema instalado,
sólo tendrá que elegir el núcleo que desea del directorio
<filename>Linux Kernels</filename>, desmarcar la opción ramdisk y
añadir el dispositivo raíz correspondiente a su instalación;
p. ej. <userinput>/dev/hda8</userinput>.

</para>
   </sect2>


  <sect2 arch="powerpc"><title>PowerMacs NewWorld</title>
<para>

En el caso de máquinas G4 e iBooks, puede mantener presionada la tecla
<keycap>option</keycap> y obtener una pantalla gráfica con un
botón para cada sistema operativo arrancable, &debian; será un
botón representando con el icono de un pingüino pequeño.

</para><para>

Si mantiene MacOS y en algún momento cambia la variable
<envar>boot-device</envar> de «OpenFirmware» deberá reiniciar éste a su
configuración predeterminada. Para hacer ésto mantenga presionadas
las teclas <keycombo>
<keycap>command</keycap> <keycap>option</keycap> <keycap>p</keycap>
<keycap>r</keycap> </keycombo> mientras la máquina arranca en frío.

</para><para>

Se mostrarán las etiquetas definidas en <filename>yaboot.conf</filename>
si presiona la tecla <keycap>Tab</keycap> en el cursor
<prompt>boot:</prompt>.

</para><para>

El reinicio de «OpenFirmware» en hardware G3 ó G4 hará que se
arranque &debian; en forma predeterminada (si primero ha particionado
correctamente y localizado la partición «Apple_Bootstrap»).
Puede que esto no funcione si su instalación tiene &debian; en un disco SCSI
y MacOS en un disco IDE, tendrá que acceder al «OpenFirmware» para
configurar la variable <envar>boot-device</envar>.
Generalmente <command>ybin</command> hace esto automáticamente.

</para><para>

Después de arrancar &debian; por primera vez puede añadir cuantas opciones
adicionales desee (como por ejemplo, opciones de arranque dual) al fichero
<filename>/etc/yaboot.conf</filename> y ejecutar <command>ybin</command>
para actualizar la partición de arranque con la nueva configuración.
Para más información, por favor lea el
<ulink url="&url-powerpc-yaboot-faq;">CÓMO de yaboot</ulink>.

</para>
   </sect2>
 </sect1>

 <sect1 id="mount-encrypted-volumes">
 <title>Montaje de volúmenes cifrados</title>

<para>

Se le solicitará la contraseña para cada uno de los volúmenes cifrados durante
el arranque si ha creado volúmenes cifrados durante la instalación y los ha asociado a puntos de montaje. El procedimiento difiere ligeramente en función de si se utiliza «dm-crypt» o «loop-AES».

</para>

  <sect2 id="mount-loop-aes">
  <title>loop-AES</title>
<para>

Se le mostrará el siguiente indicador durante el arranque en el caso
de que tenga particiones cifradas con «loop-AES»:

<informalexample><screen>
mount: going to use loop device /dev/loop<replaceable>X</replaceable>
Password:
</screen></informalexample>


<replaceable>X</replaceable> es el número del dispositivo «loop» en
la primera línea del indicador. Seguramente se esté preguntando
<emphasis>para qué volúmen</emphasis> está vd. introduciendo la clave.
¿Se trata de <filename>/home</filename> o de <filename>/var</filename>? La
respuesta es muy sencilla si sólo tiene un volúmen cifrado, sólo tiene
que introducir la contraseña que utilizó cuando configuró dicho volúmen. Las
notas que escribió como parte del último paso de <xref
linkend="partman-crypto"/> serán útiles si ha configurado más de un volúmen
cifrado durante la instalación.  Puede obtener esta información
del <filename>/etc/fstab</filename> en su nuevo sitema sino guardó
las notas de la asociación entre
<filename>loop<replaceable>X</replaceable></filename> y los puntos de montaje.
</para><para>

No se mostrará ningún caracter (ni siquiera asteriscos) mientras vd.  introduce
la clave. Tenga cuidado ya que sólo tiene <emphasis>un intento</emphasis>. Si
introduce mal la clave se mostrará un mensaje de error y el arranque saltará
ese volumen y continuará intentando montar el siguiente sistemas de ficheros.
Para más información consulte <xref linkend="crypto-troubleshooting"/>.

</para><para>

El proceso de arranque debería continuar normalmente una vez haya introducido
todas las claves.

</para>
  </sect2>

  <sect2 id="mount-dm-crypt" condition="FIXME">
  <title>dm-crypt</title>

<para>

HACER: escribir algo cuando funcione.

</para>
  </sect2>

  <sect2 id="crypto-troubleshooting">
  <title>Solucionar problemas</title>

<para>

Tendrá que montar manualmente los volúmenes cifrados si no se pudieron montar
porque no introdujo bien la clave. Aquí se dan ciertos casos distintos:


</para>

<itemizedlist>
<listitem><para>

El primer caso está asociado a la partición raíz. El proceso de arranque no
podrá continuar y se parará si no se monta ésta correctamente, con lo que
tendrá que reiniciar el equipo e intentarlo de nuevo.

</para></listitem>
<listitem><para>

El caso más sencillo se da en los volúmenes cifrados que guardan datos
como pueda ser el caso de 
<filename>/home</filename> or <filename>/srv</filename>. Simplemente
puede intentar montarlso de nuevo tras el arranque. En el caso de
«loop-AES» se hace con una sola operación:

<informalexample><screen>
<prompt>#</prompt> <userinput>mount <replaceable>/mount_point</replaceable></userinput>
<prompt>Password:</prompt>
</screen></informalexample>

donde debería reemplazar <replaceable>/mount_point</replaceable> por el
directorio correspondiente (p.ej. <filename>/home</filename>).  La única
diferencia con el montaje normal de sistemas de ficheros es que se le
preguntará la contraseña para este volumen.

</para><para>

Es un poco más complicado para el caso de «dm-crypt». Primero tendrá 
que registrar los volúmenes con el <application>device mapper</application>
ejecutando:

<informalexample><screen>
<prompt>#</prompt> <userinput>/etc/init.d/cryptdisks start</userinput>
</screen></informalexample>

Esto hará que se sondeen todos los volúmenes descritos
en <filename>/etc/crypttab</filename> y se crearán todos los dispositivos
necesarios en el directorio <filename>/dev</filename> tras introducir
la contraseña correctamente. Se omitirán los volúmenes que ya estén
registrados por lo que puede repetir esta orden tantas veces como
necesite. Una vez que haya registrado con éxito el dispositivo sólo
tiene que montarlos de la forma habitual:

<informalexample><screen>
<prompt>#</prompt> <userinput>mount <replaceable>/mount_point</replaceable></userinput>
</screen></informalexample>

</para></listitem>
<listitem><para>

El sistema debería arrancar aún cuando no se puedan montar los
sistemas de ficheros que no contengan ficheros del sistema críticos
(<filename>/usr</filename> o <filename>/var</filename>). Por lo que debería
poder montar los volúmenes manualmente como se ha descrito anteriormente. Sin
embargo, tendrá que arrancar o reiniciar los servicios que se ejecutan en su
nivel de ejecución normal porque es muy probable que no se hayan podido
arrancar. La forma más fácil de conseguir ésto es cambiando al primer nivel de
ejecución y volver al nivel actual introduciendo lo siguiente:

<informalexample><screen>
<prompt>#</prompt> <userinput>init 1</userinput>
</screen></informalexample>

y en el indicador del intéprete de ordenes pulseo 
<keycombo> <keycap>Control</keycap> <keycap>D</keycap> </keycombo>
cuando se le pregunte la contraseña de root.

</para></listitem>
</itemizedlist>

  </sect2>
 </sect1>


 <sect1 id="login">
 <title>Acceso</title>

<para>

Se le presentará el cursor de «login» (acceso, N. del t.) después de
que haya arrancado su sistema.  Puede acceder usando
la cuenta personal y clave que ha seleccionado durante la instalación. Su
sistema está ahora listo para ser usado.

</para><para>

Si usted es un usuario novel, tal vez quiera explorar la documentación
que ya está instalada en su sistema mientras empieza a utilizarlo.
Actualmente existen varios sistemas de documentación, aunque se está
trabajando en integrar los diferentes tipos disponibles. Aquí
encontrará algunas guías que le indicarán dónde empezar a buscar.

</para><para>

La documentación que acompaña a los programas que ha instalado se
encuentra en el directorio <filename>/usr/share/doc/</filename>, bajo
un subdirectorio cuyo nombre coincide con el del programa. Por
ejemplo, la «Guía de usuario de APT» que le indica cómo utilizar
<command>apt</command> para instalar otros programas en su sistema, se
encuentra en
<filename>/usr/share/doc/apt/guide.html/index.html</filename>.

</para><para>


Además, existen algunos directorios especiales dentro de la jerarquía
de <filename>/usr/share/doc/</filename>. Puede encontrar los CÓMOs de
Linux en formato <emphasis>.gz</emphasis>, en
<filename>/usr/share/doc/HOWTO/en-txt/</filename>. Encontrará un
índice navegable de la documentación instalada en
<filename>/usr/share/doc/HTML/index.html</filename> una vez
instale <command>dhelp</command>.

</para><para>

Una forma fácil de consultar estos documentos es ejecutar
<userinput>«cd /usr/share/doc/»</userinput>, y escribir
<userinput>«lynx»</userinput> seguido de un espacio y un punto (el
punto indica el directorio actual).

</para><para>

También puede escribir <userinput>«info
<replaceable>programa</replaceable>»</userinput> o <userinput>«man
<replaceable>programa</replaceable>»</userinput> para consultar la
documentación de la mayoría de los programas disponibles en la línea
de órdenes. Si escribe <userinput>«help»</userinput> se le mostrará una
ayuda sobre las órdenes del guión de línea de órdenes. Habitualmente,
si escribe el nombre de un programa seguido de
<userinput>--help</userinput> se le mostrará un breve resumen del uso
de este programa. Si la salida es mayor que el tamaño de su pantalla,
escriba <userinput>| more</userinput> después de la llamada anterior
para hacer que los resultados se pausen antes de que sobrepasen el
tamaño de la pantalla. Puede también ver la lista de todos los
programas disponibles que empiezan con una cierta letra. Simplemente,
escriba la letra en cuestión y luego presione dos veces el tabulador.

</para><para>

Puede leer una introducción más completa a Debian y GNU/Linux en
<filename>/usr/share/doc/debian-guide/html/noframes/index.html</filename>.

</para>

 </sect1>
</chapter>
